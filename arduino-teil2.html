<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arduino Lernbaustein – Seiten 6–11</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1b33;
      --card:#0f203f;
      --text:#e8eefc;
      --muted:#b8c6e6;
      --accent:#35d0c2;
      --accent2:#7aa8ff;
      --warn:#ffd166;
      --ok:#6ee7b7;
      --border:rgba(255,255,255,.12);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --radius2:14px;
      --max:1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 20% 0%, rgba(53,208,194,.14), transparent 55%),
                  radial-gradient(900px 600px at 90% 10%, rgba(122,168,255,.14), transparent 50%),
                  var(--bg);
      color:var(--text);
      line-height:1.45;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(11,18,32,.85), rgba(11,18,32,.55));
      border-bottom: 1px solid var(--border);
    }
    .topbar{
      max-width: var(--max);
      margin: 0 auto;
      padding: 14px 16px;
      display:flex; gap:12px; align-items:center; justify-content:space-between;
    }
    .brand{
      display:flex; gap:10px; align-items:center;
      font-weight:700;
      letter-spacing:.2px;
    }
    .badge{
      font-size:12px;
      padding:4px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      color:var(--muted);
      background:rgba(255,255,255,.03);
    }
    .layout{
      max-width: var(--max);
      margin: 0 auto;
      padding: 18px 16px 56px;
      display:grid;
      grid-template-columns: 290px 1fr;
      gap: 16px;
    }
    @media (max-width: 980px){
      .layout{grid-template-columns:1fr}
      nav{position:relative}
    }
    nav{
      position:sticky;
      top:74px;
      align-self:start;
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .navhead{
      padding:14px 14px 10px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(135deg, rgba(53,208,194,.12), rgba(122,168,255,.10));
    }
    .navhead h2{margin:0 0 6px; font-size:14px; color:var(--muted); font-weight:700}
    .progress{
      height:10px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--border);
      border-radius:999px;
      overflow:hidden;
    }
    .bar{height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent2))}
    .navlist{padding:10px}
    .navlist a{
      display:flex; align-items:center; gap:10px;
      padding:10px 10px;
      border-radius:12px;
      color:var(--text);
      border:1px solid transparent;
    }
    .navlist a:hover{background:rgba(255,255,255,.04); border-color: var(--border); text-decoration:none}
    .dot{
      width:10px; height:10px; border-radius:999px;
      background:rgba(255,255,255,.15);
      border:1px solid var(--border);
    }
    .done .dot{background: var(--ok); border-color: rgba(110,231,183,.4)}
    main{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }
    .card{
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card > .inner{padding: 18px}
    .hero{
      background: linear-gradient(135deg, rgba(53,208,194,.18), rgba(122,168,255,.14));
    }
    .hero h1{margin:0 0 8px; font-size:28px}
    .hero p{margin:0; color:var(--muted)}
    h3{margin:0 0 10px; font-size:18px}
    .grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width: 800px){ .grid2{grid-template-columns:1fr} }

    .callout{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.03);
      padding:12px 12px;
    }
    .callout strong{display:block; margin-bottom:6px}
    .callout.warn{border-color: rgba(255,209,102,.35); background: rgba(255,209,102,.07)}
    .callout.tip{border-color: rgba(53,208,194,.35); background: rgba(53,208,194,.06)}
    .callout.info{border-color: rgba(122,168,255,.35); background: rgba(122,168,255,.06)}

    .task{
      border:1px solid var(--border);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.02);
      padding: 12px;
    }
    .task header{
      position:static;
      background:none;
      border:none;
      backdrop-filter:none;
    }
    .tasktitle{
      display:flex; justify-content:space-between; gap:10px; align-items:flex-start;
      margin-bottom:8px;
    }
    .pill{
      font-size:12px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background: rgba(255,255,255,.03);
      white-space:nowrap;
    }
    textarea{
      width:100%;
      min-height: 110px;
      resize: vertical;
      padding:10px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(15,32,63,.55);
      color: var(--text);
      outline:none;
    }
    textarea:focus{border-color: rgba(53,208,194,.65); box-shadow: 0 0 0 3px rgba(53,208,194,.15)}
    .btnrow{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
    button{
      cursor:pointer;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-weight:600;
    }
    button.primary{
      background: linear-gradient(90deg, rgba(53,208,194,.22), rgba(122,168,255,.18));
      border-color: rgba(122,168,255,.35);
    }
    button:hover{filter: brightness(1.08)}
    .small{font-size:12px; color:var(--muted)}
    .sep{height:1px; background:var(--border); margin:12px 0}
    .kvs{display:grid; grid-template-columns: 1fr; gap:10px}
    .kv{
      border:1px dashed rgba(255,255,255,.18);
      border-radius: 14px;
      padding:10px 12px;
      background: rgba(255,255,255,.02);
    }
    .kv b{color: var(--accent)}
    .footer{
      color:var(--muted);
      font-size:12px;
      padding:12px 18px 18px;
      border-top:1px solid var(--border);
      background: rgba(0,0,0,.12);
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border:1px solid var(--border);
      border-bottom-width:2px;
      border-radius:8px;
      background: rgba(255,255,255,.04);
      color: var(--text);
    }
    .pdfview {
  display: grid;
  grid-template-columns: 1.1fr 0.9fr;
  gap: 14px;
}
@media (max-width: 900px) {
  .pdfview {
    grid-template-columns: 1fr;
  }
}
.pdfpage {
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
  background: rgba(0,0,0,.2);
}
.pdfpage img {
  width: 100%;
  display: block;
}
.pdfcaption {
  font-size: 12px;
  color: var(--muted);
  padding: 6px 10px;
  border-top: 1px solid var(--border);
}
  </style>
</head>

<body>
<header>
  <div class="topbar">
    <div class="brand">
      <span style="width:14px;height:14px;border-radius:4px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:inline-block"></span>
      <span>Arduino – Lernbaustein (Seiten 6–11)</span>
      <span class="badge">GitHub Pages • interaktiv</span>
    </div>
    <div class="badge" id="saveState">Lokale Speicherung: aktiv</div>
  </div>
</header>

<div class="layout">
  <nav aria-label="Navigation">
    <div class="navhead">
      <h2>Dein Lernpfad</h2>
      <div class="progress" title="Fortschritt (lokal auf diesem Gerät)">
        <div class="bar" id="bar"></div>
      </div>
      <div class="small" style="margin-top:8px">
        Tipp: Markiere erledigt, wenn du eine Aufgabe abgeschlossen hast.
      </div>
    </div>
    <div class="navlist" id="navlist">
      <a href="#s6" data-sec="s6"><span class="dot"></span>3. Ein Programm zum Programmieren</a>
       <a href="#s7" data-sec="s7"><span class="dot"></span>Programm übertragen</a>
      <a href="#s8" data-sec="s8"><span class="dot"></span>4. Das erste Blinken</a>
      <a href="#s9" data-sec="s9"><span class="dot"></span>5.a Töne</a>
       <a href="#s10" data-sec="s10"><span class="dot"></span>5.b Unterprogramme</a>
      <a href="#abgabe" data-sec="abgabe"><span class="dot"></span>Abgabe & Checkliste</a>

    </div>
  </nav>

  <main>
    <section class="card" id="s6">
  <div class="inner">

    <div>
      <h3>3. Ein Programm zum Programmieren</h3>


    <!-- INFOBOX 1 -->
      <div class="callout tip">
        <strong>Entwicklungsumgebung (IDE)</strong>
        <div style="color:var(--muted)">
          Programme für Mikrocontroller werden nicht direkt „einfach so“
          geschrieben, sondern in einer <b>Entwicklungsumgebung</b> (IDE).
          Sie hilft beim Schreiben, Prüfen und Übertragen der Programme.
        </div>
      </div>

    <div class="sep"></div>
      
   <!-- INFOBOX 2 -->
      <div class="callout info">
        <strong>Arduino-IDE</strong>
        <div style="color:var(--muted)">
          Die Arduino-IDE ist speziell für Arduino-Boards entwickelt.
          Sie unterstützt verschiedene Board-Typen und Betriebssysteme
          (Windows, macOS, Linux).
        </div>
      </div>

    <div class="sep"></div>
      
      <!-- INFOBOX 3 (grün im Original) -->
      <div class="callout tip">
        <strong>Aufbau eines Arduino-Programms</strong>
        <ul style="margin:6px 0 0; padding-left:18px; color:var(--muted)">
          <li><b>setup()</b>: wird einmal beim Start ausgeführt</li>
          <li><b>loop()</b>: wiederholt sich ständig</li>
        </ul>
      </div>

    <div class="sep"></div>
      
      <!-- INFOBOX 4 -->
      <div class="callout">
        <strong>Kompilieren & Übertragen</strong>
        <div style="color:var(--muted)">
          Bevor ein Programm auf den Arduino geladen wird, prüft die IDE
          den Code auf Fehler (<i>kompilieren</i>).
          Danach wird das Programm über USB auf den Arduino übertragen.
        </div>
      </div>

          <div class="sep"></div>
      
      <div class="task">
        <div class="tasktitle">
          <div><b>Verständnisfrage</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s6"
          placeholder="Warum braucht man eine spezielle Entwicklungsumgebung für den Arduino?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s6">Text kopieren</button>
        </div>
      </div>
    


    
    <div class="pdfpage">
      <img src="pdf-bilder/seite06.png" alt="PDF Seite 6">
      <div class="pdfcaption">Original – Seite 6</div>
</div>
    
 <!-- KURZE VERSTÄNDNISFRAGE -->
      <div class="task">
        <div class="tasktitle">
          <div><b>Verständnisfrage</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s6_info"
          placeholder="Warum ist es sinnvoll, dass setup() nur einmal und loop() ständig ausgeführt wird?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s6_info">Text kopieren</button>
        </div>
      </div>
    

    <div class="sep"></div>
      
       <!-- KURZE VERSTÄNDNISFRAGE -->
      <div class="task">
        <div class="tasktitle">
          <div><b>Wiederholung</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s6_info"
          placeholder="Erkläre alle Punkte auf dem Bild in deinen Worten."></textarea>
        <div class="btnrow">
          <button data-copy="t_s6_info">Text kopieren</button>
        </div>
      </div>
  
      
  </div>
</section>


<section class="card" id="s7a">
  <div class="inner">

    <!-- LINKER BEREICH: AUFGABEN -->
    <div>
      <h3>Programm übertragen</h3>

      <div class="callout info">
        <strong>Worum geht es hier?</strong>
        <div style="color:var(--muted)">
          Du hast gesehen, wie ein Arduino-Programm auf das Board übertragen wird.
          Jetzt sollst du die Schritte nachvollziehen und verstehen.
        </div>
      </div>
      
<div class="sep"></div>
<!-- RECHTER BEREICH: PDF -->
    <div class="pdfpage">
      <img src="pdf-bilder/seite07.png" alt="PDF Seite 7">
      <div class="pdfcaption">Original – Seite 7</div>
    </div>
<div class="sep"></div>
      
      <!-- AUFGABE 1 -->
      <div class="task">
        <div class="tasktitle">
          <div><b>Aufgabe 7.1</b> – Reihenfolge verstehen</div>
        </div>
        <textarea id="t_s7a_1"
          placeholder="Beschreibe die Schritte von: Programm öffnen → Board auswählen → Port auswählen → Upload starten."></textarea>
      </div>
<div class="sep"></div>
      
      <!-- AUFGABE 2 -->
      <div class="task">
        <div class="tasktitle">
          <div><b>Aufgabe 7.2</b> – Fehlersuche</div>
        </div>
        <textarea id="t_s7a_2"
          placeholder="Warum ist es wichtig, den richtigen Board-Typ und Port auszuwählen? Was könnte sonst passieren?"></textarea>
      </div>
<div class="sep"></div>
      <!-- AUFGABE 3 -->
      <div class="task">
        <div class="tasktitle">
          <div><b>Aufgabe 7.3</b> – Transfermeldung</div>
        </div>
        <textarea id="t_s7a_3"
          placeholder="Was bedeutet die Meldung ‚Upload abgeschlossen‘? Was passiert in diesem Moment auf dem Arduino?"></textarea>
      </div>
<div class="sep"></div>
      <div class="btnrow">
        <button data-copy="t_s7a_1">Antwort 7.1 kopieren</button>
        <button data-copy="t_s7a_2">Antwort 7.2 kopieren</button>
        <button data-copy="t_s7a_3">Antwort 7.3 kopieren</button>
      </div>
    </div>

    

  </div>
</section>

    

 <section class="card" id="s8">
  <div class="inner">

    <div>
      <h3>4. Das erste Blinken</h3>

      <div class="callout">
        <strong>Idee</strong>
        <div style="color:var(--muted)">
          Eine LED wird mithilfe eines Programms regelmäßig ein- und ausgeschaltet.
          Damit testet man, ob Hardware und Software korrekt funktionieren.
        </div>
      </div>
      
    <div class="sep"></div>
      
      <div class="task">
        <div class="tasktitle">
          <div><b>Überlege</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s8"
          placeholder="Warum ist ein Blink-Programm ein sinnvoller erster Test?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s8">Text kopieren</button>
        </div>
      </div>
    </div>

    <div class="sep"></div>
    
    <div class="callout">
        <strong>Jetzt geht's los, du schreibst dein erstes Programm! Folge den Anweisungen:</strong>
        <div style="color:var(--muted)">
          Du hast gesehen, wie ein Arduino-Programm auf das Board übertragen wird.
          Jetzt sollst du die Schritte nachvollziehen und verstehen.<br> 
          Stecke zuerst das Kabel, das an dem Pin 5V hing an den Pin 13. Dann öffnest du auf dem Desktop das Programm Arduino und übernimmst 
          die Einstellungen, die du gerade im letzten Kapitel gelernt hast. <br>
          Schreibe jetzt den Code ab, der im unteren Bild gezeigt wird und lese dir alle Begründungen genau durch.<br> 
          Übertrage zum Schluss das 
          Programm auf den Arduino, wie im letzten Kapitel erklärt.
        </div>
    </div>
    <div class="sep"></div>
    
    <div class="pdfpage">
      <img src="pdf-bilder/seite08.png" alt="PDF Seite 8">
      <div class="pdfcaption">Original – Seite 8</div>
    </div>
    <div class="sep"></div>

 <div class="task">
        <div class="tasktitle">
          <div><b>Reflexion</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s8"
          placeholder="Hat alles geklappt? Leuchtet deine Diode? Was hat dir Probleme oder Schwierigkeiten bereitet?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s8">Text kopieren</button>
        </div>
      </div>

    <div class="sep"></div>

     <div class="task">
        <div class="tasktitle">
          <div><b>Aufgabe: Ab welcher Dauer der Pausen kann dein Auge das Blinken nicht mehr erkennen?</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s8"
          placeholder="Recherchiere im Internet, ab wann ds menschliche Auge keine einzelnen Bilder mehr erkennen kann. 
          Wie sieht es bei einer Stubenfliege aus?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s8">Text kopieren</button>
        </div>
      </div>


   <div class="sep"></div>

     <div class="task">
        <div class="tasktitle">
          <div><b>Reflexion - Reihenfolge verstehen</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s8"
          placeholder="Beschreibe die Schritte von: Programm öffnen → Board auswählen → Port auswählen → Upload starten."></textarea>
        <div class="btnrow">
          <button data-copy="t_s8">Text kopieren</button>
        </div>
     </div>

      <div class="sep"></div>
     <div class="task">
        <div class="tasktitle">
          <div><b>Fehlersuche</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s8"
          placeholder="Warum ist es wichtig, den richtigen Board-Typ und Port auszuwählen? Was könnte sonst passieren?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s8">Text kopieren</button>
        </div>
     </div>

    
  </div>
</section>


<section class="card" id="s10">
  <div class="inner">

    <div>



      
    <h3>Häufige Fehlermeldungen verstehen</h3>

<div class="callout info">
  <strong>Hinweis</strong>
  <div style="color:var(--muted)">
    Die Entwicklungsumgebung zeigt Fehlermeldungen teils auf Deutsch,
    teils auf Englisch an. Die folgende Übersicht hilft dir, diese
    Meldungen richtig zu deuten.
  </div>
</div>
    <div class="sep"></div>
      
<div class="grid2">

  <!-- FEHLER 1 -->
  <div class="callout warn">
    <strong style="color:#ff6b6b">Problem beim Hochladen</strong>
    <div style="color:var(--muted)">
      Meistens hast du nicht die richtige Schnittstelle oder das
      richtige Board ausgewählt.
      <br>
      Prüfe die Einstellungen wie auf <b>Seite 7</b> beschrieben.
    </div>
  </div>

  <!-- FEHLER 2 -->
  <div class="callout warn">
    <strong style="color:#ff6b6b">expected ‘;’ before …</strong>
    <div style="color:var(--muted)">
      Auf Deutsch: <i>„Ich erwarte einen Strichpunkt“</i>.
      <br>
      Häufig fehlt am Ende einer Zeile ein <code>;</code>.
      Das passiert besonders oft am Anfang.
    </div>
  </div>

  <!-- FEHLER 3 -->
  <div class="callout warn">
    <strong style="color:#ff6b6b">expected ‘)’ before …</strong>
    <div style="color:var(--muted)">
      Es fehlt eine runde Klammer
      <code>(</code> oder <code>)</code>,
      <br>
      oder es wurde ein Strichpunkt statt eines Kommas gesetzt.
    </div>
  </div>

  <!-- FEHLER 4 -->
  <div class="callout warn">
    <strong style="color:#ff6b6b">a function-definition is not allowed here</strong>
    <div style="color:var(--muted)">
      Prüfe die <b>geschweiften Klammern</b> <code>{ }</code>.
      <br>
      Wahrscheinlich ist eine Klammer zu viel oder zu wenig vorhanden.
    </div>
  </div>

  <!-- FEHLER 5 -->
  <div class="callout warn">
    <strong style="color:#ff6b6b">… was not declared in this scope</strong>
    <div style="color:var(--muted)">
      Der Compiler kennt etwas nicht.
      <br>
      Wahrscheinlich hast du dich bei einem Namen
      (Variable oder Funktion) vertippt.
    </div>
  </div>

</div>



       <h3>Jetzt darfst du weiter Üben</h3>

        <div class="pdfpage">
      <img src="pdf-bilder/seite09.png" alt="PDF Seite 9">
      <div class="pdfcaption">Original – Seite 9</div>
    </div>  
    <div class="sep"></div>
      
    <div class="callout">
        <strong>Auf dem Bild findest du weitere Aufgaben zum Üben</strong>
        <div style="color:var(--muted)">
          Bearbeite alle Aufgaben auf dem Bild, schreibe direkt in OneNote. 
          Lege dir in OneNote auch eine Seite an, 
          auf die du alle 30 Befehle, die du bis jetzt gelernt hast mit Bedeutung aufschreibst.
        </div>
    </div>
    <div class="sep"></div>

  </div>
</section>
  


    
    <section class="card" id="s10">
  <div class="inner">

    <div>
      <h3>5. Töne erzeugen</h3>

      <div class="callout tip">
        <strong>Prinzip</strong>
        <div style="color:var(--muted)">
          Durch schnelles Ein- und Ausschalten eines Pins können Schwingungen
          erzeugt werden, die man als Ton hört.
        </div>
      </div>

      <div class="task">
        <div class="tasktitle">
          <div><b>Verständnis</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s10"
          placeholder="Wovon hängt die Tonhöhe bei einem Lautsprecher ab?"></textarea>
        <div class="btnrow">
          <button data-copy="t_s10">Text kopieren</button>
        </div>
      </div>
    </div>

    <div class="pdfpage">
      <img src="pdf-bilder/seite10.png" alt="PDF Seite 10">
      <div class="pdfcaption">Original – Seite 10</div>
    </div>

  </div>
</section>

    <section class="card" id="s11">
  <div class="inner">

    <div>
      <h3>6. Unterprogramme (Funktionen)</h3>

      <div class="callout info">
        <strong>Warum Unterprogramme?</strong>
        <div style="color:var(--muted)">
          Wiederkehrende Abläufe können in Funktionen ausgelagert werden.
          Das macht Programme übersichtlicher und leichter veränderbar.
        </div>
      </div>

      <div class="task">
        <div class="tasktitle">
          <div><b>Denken wie ein Programmierer</b></div>
          <span class="pill">Text wird gespeichert</span>
        </div>
        <textarea id="t_s11"
          placeholder="Nenne ein Beispiel aus dem Alltag, das man als 'Unterprogramm' sehen kann."></textarea>
        <div class="btnrow">
          <button data-copy="t_s11">Text kopieren</button>
        </div>
      </div>
    </div>

    <div class="pdfpage">
      <img src="pdf-bilder/seite11.png" alt="PDF Seite 11">
      <div class="pdfcaption">Original – Seite 11</div>
    </div>

  </div>
</section>

 

<section class="card" id="abgabe">
  <div class="inner">
    <h3>Abgabe – Seiten 6–11</h3>

    <div class="callout info">
      <strong>Beantworte zur Abgabe:</strong>
      <ol style="color:var(--muted)">
        <li>Was ist der Zweck der Arduino-IDE?</li>
        <li>Warum testet man Programme oft mit einer blinkenden LED?</li>
        <li>Was leisten Unterprogramme?</li>
        <li>Warum sind Variablen unverzichtbar?</li>
        <li>Wofür nutzt man die serielle Ausgabe?</li>
      </ol>
    </div>

    <div class="task">
      <div class="tasktitle">
        <div><b>Gesamtabgabe</b></div>
        <span class="pill">lokal gespeichert</span>
      </div>
      <textarea id="t_abgabe_6_11"
        placeholder="Formuliere hier deine zusammenhängenden Antworten."></textarea>
      <div class="btnrow">
        <button data-copy="t_abgabe_6_11">Gesamten Text kopieren</button>
      </div>
    </div>
  </div>
</section>


    
  </main>
</div>

<script>
  // ---------- LocalStorage helpers ----------
  const LS_PREFIX = "arduino_lernbaustein_s1-5__";
  const $ = (sel) => document.querySelector(sel);

  function lsKey(id){ return LS_PREFIX + id; }

  function saveText(id, val){
    localStorage.setItem(lsKey(id), val);
  }
  function loadText(id){
    return localStorage.getItem(lsKey(id)) ?? "";
  }
  function setDone(secId, done=true){
    localStorage.setItem(lsKey("done__"+secId), done ? "1" : "0");
    refreshDoneUI();
  }
  function isDone(secId){
    return (localStorage.getItem(lsKey("done__"+secId)) ?? "0") === "1";
  }

  // Load all textareas
  document.querySelectorAll("textarea").forEach(t => {
    t.value = loadText(t.id);
    t.addEventListener("input", () => saveText(t.id, t.value));
  });

  // Buttons: copy / clear / done
  document.addEventListener("click", async (e) => {
    const btn = e.target.closest("button");
    if(!btn) return;

    const copyId = btn.getAttribute("data-copy");
    const clearId = btn.getAttribute("data-clear");
    const doneSec = btn.getAttribute("data-done");

    if(copyId){
      const val = loadText(copyId);
      try{
        await navigator.clipboard.writeText(val);
        btn.textContent = "Kopiert!";
        setTimeout(()=>btn.textContent="Text kopieren", 900);
      }catch{
        alert("Kopieren nicht möglich. Markiere den Text manuell und kopiere ihn.");
      }
    }
    if(clearId){
      if(confirm("Feld wirklich leeren?")){
        saveText(clearId, "");
        $("#"+clearId).value = "";
      }
    }
    if(doneSec){
      setDone(doneSec, true);
    }
  });

  // Nav done state + progress
  function refreshDoneUI(){
    const links = document.querySelectorAll("#navlist a[data-sec]");
    let doneCount = 0;

    links.forEach(a=>{
      const sec = a.getAttribute("data-sec");
      const dot = a.querySelector(".dot");
      if(isDone(sec)){
        a.classList.add("done");
        dot && dot.parentElement && dot.parentElement.classList?.add?.("done");
        doneCount++;
        a.classList.add("done");
      } else {
        a.classList.remove("done");
      }
    });

    const pct = Math.round((doneCount / links.length) * 100);
    $("#bar").style.width = pct + "%";
  }
  refreshDoneUI();

  // Save-state badge
  try{
    localStorage.setItem(lsKey("__ping"), "1");
    $("#saveState").textContent = "Lokale Speicherung: aktiv";
  }catch{
    $("#saveState").textContent = "Lokale Speicherung: nicht verfügbar";
  }
</script>
</body>
</html>
